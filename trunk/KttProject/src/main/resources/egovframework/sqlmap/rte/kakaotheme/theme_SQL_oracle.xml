<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="theme">

	<select id="themeDAO.selectAllTheme" resultClass="java.util.HashMap">
		<![CDATA[
			SELECT *
			FROM TB_THEME 
		]]>
	</select>
	
	<!-- CNT 갯수에 따라서 최고 평가가 높은 순서대로 값을 가져온다. -->
	<select id="themeDAO.selectBestCntTheme" parameterClass="java.util.HashMap" resultClass="java.util.HashMap">
		<![CDATA[
			SELECT ROWNUM rnum, a.* FROM
			(
			  SELECT * FROM tb_theme
			  ORDER BY recommend_cnt DESC, rowid
			) a
			WHERE ROWNUM <= #cnt#; 
		]]>
	</select>
	
	
	

</sqlMap>
